# Калькулятор стоимости игры в сквош

Калькулятор для оптимизации стоимости игры в сквош с учетом PowerPlay и подписок Urban Sports.

## Структура проекта

```
squash/
├── src/
│   ├── calculator.js          # Чистая бизнес-логика (без DOM)
│   └── calculator.test.js      # Unit-тесты
├── index.html                  # UI (HTML + CSS + UI логика)
├── package.json                # Конфигурация проекта
├── TESTING.md                  # Документация по тестированию
└── README.md                   # Этот файл
```

## Запуск

Откройте `index.html` в браузере.

## Тестирование

### Запуск тестов

```bash
# С Node.js (встроенный test runner, Node 18+)
npm test

# Или напрямую
node --test src/calculator.test.js
```

### Результаты тестов

Тесты проверяют:
- Правильность выбора PowerPlay при равной стоимости
- Корректность расчета стоимости без подписок
- Приоритет PowerPlay над обычными слотами при равной стоимости

## Архитектура

Проект разделен на:
- **Бизнес-логика** (`src/calculator.js`) - чистые функции, без зависимостей от DOM
- **UI** (`index.html`) - отображение и взаимодействие с пользователем

Это позволяет:
- Легко тестировать логику
- Переиспользовать код
- Упростить поддержку

## Разработка

### Добавление новых тестов

Добавьте тесты в `src/calculator.test.js`:

```javascript
test('описание теста', () => {
    const result = squashDistributionCost(3, 6, 3, '18:00', 'weekend');
    assert.strictEqual(result.cost, 48);
});
```

### Запуск тестов в watch режиме

```bash
node --test --watch src/calculator.test.js
```

## Дополнительная информация

См. [TESTING.md](./TESTING.md) для подробной информации о подходах к тестированию фронтенда.
