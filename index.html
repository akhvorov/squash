<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏–≥—Ä—ã –≤ —Å–∫–≤–æ—à</title>
    <!-- Trigger deploy -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè∏</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .form-section {
            padding: 40px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 1.1em;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 1.1em;
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        }

        .language-switcher {
            display: flex;
            gap: 5px;
        }

        .lang-btn {
            padding: 8px 12px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .lang-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
        }

        .lang-btn.active {
            background: rgba(255, 255, 255, 0.9);
            color: #667eea;
            border-color: white;
        }

        .tabs-container {
            margin-bottom: 20px;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 4px;
            margin-bottom: 20px;
        }

        .tab {
            flex: 1;
            padding: 12px 20px;
            background: transparent;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            color: #6c757d;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: white;
            color: #667eea;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .tab:hover:not(.active) {
            color: #495057;
            background: rgba(255, 255, 255, 0.5);
        }

        .useful-links {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            border: 1px solid #e9ecef;
        }

        .useful-links h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.3em;
            text-align: center;
        }

        .links-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .useful-link {
            display: flex;
            align-items: center;
            padding: 15px;
            background: white;
            border-radius: 10px;
            text-decoration: none;
            color: inherit;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .useful-link:hover {
            border-color: #4facfe;
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.2);
            transform: translateY(-2px);
        }

        .link-icon {
            font-size: 2em;
            margin-right: 15px;
        }

        .link-content {
            flex: 1;
        }

        .link-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .link-desc {
            font-size: 0.9em;
            color: #6c757d;
        }

        @media (max-width: 600px) {
            .links-grid {
                grid-template-columns: 1fr;
            }
        }



        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .calculate-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .results {
            padding: 40px;
            background: #f8f9fa;
            border-top: 1px solid #e1e5e9;
        }

        .results.hidden {
            display: none;
        }

        .cost-summary {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .cost-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .cost-item:last-child {
            border-bottom: none;
            font-weight: 600;
            font-size: 1.1em;
            color: #667eea;
        }

        .plan-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .plan-section h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .court-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 4px solid #4facfe;
        }

        .payments-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .payments-section h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .payment-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .payment-item:last-child {
            border-bottom: none;
        }

        .player-with-sub {
            color: #28a745;
            font-weight: 600;
        }

        .player-normal {
            color: #333;
        }

        .amount {
            font-weight: 600;
            color: #667eea;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #f5c6cb;
        }

        @media (max-width: 600px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .form-section, .results {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="language-switcher" style="position: absolute; top: 20px; right: 20px; z-index: 10;">
            <button onclick="switchLanguage('ru')" class="lang-btn active" id="lang-ru">RU</button>
            <button onclick="switchLanguage('en')" class="lang-btn" id="lang-en">EN</button>
            <button onclick="switchLanguage('de')" class="lang-btn" id="lang-de">DE</button>
        </div>
        <div class="header">
            <div style="text-align: center;">
                <h1 id="title">üè∏ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–∫–≤–æ—à–∞</h1>
                <p id="subtitle">–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ –æ–ø–ª–∞—Ç—ã —Å —É—á–µ—Ç–æ–º –ø–æ–¥–ø–∏—Å–æ–∫ Urban Sports</p>
            </div>
            <div style="margin-top: 15px; font-size: 0.9em; opacity: 0.9;">
                <div id="pricing-info">
                    <div><strong>–†–∞–±–æ—á–∏–µ –¥–Ω–∏:</strong> –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —Å 16:30-21:00 (9‚Ç¨/12‚Ç¨) | –æ—Å—Ç–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (6‚Ç¨/9‚Ç¨)</div>
                    <div><strong>–í—ã—Ö–æ–¥–Ω—ã–µ:</strong> –≤—Å–µ –≤—Ä–µ–º—è (6‚Ç¨/9‚Ç¨)</div>
                </div>
                <div style="margin-top: 10px; font-size: 0.95em; color: #fff;">
                    üìÖ <span id="current-day-display">–ó–∞–≥—Ä—É–∑–∫–∞...</span> ‚Ä¢ <span id="game-duration">–ò–≥—Ä–∞: 1.5 —á–∞—Å–∞ (PowerPlay)</span>
                </div>
            </div>
        </div>

        <div class="form-section">
            <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã -->
            <div class="form-row">
                <div class="form-group">
                    <label for="courts" id="label-courts">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ—Ä—Ç–æ–≤</label>
                    <input type="number" id="courts" min="1" max="10" value="3">
                </div>
                <div class="form-group">
                    <label for="players" id="label-players">–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤</label>
                    <input type="number" id="players" min="2" max="20" value="6">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="subs" id="label-subs">–ò–≥—Ä–æ–∫–∏ —Å –ø–æ–¥–ø–∏—Å–∫–æ–π Urban Sports</label>
                    <input type="number" id="subs" min="0" max="20" value="3">
                </div>
                <div class="form-group">
                    <label for="start_time" id="label-start-time">–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã</label>
                    <input type="time" id="start_time" value="18:00">
                </div>
            </div>

            <button class="calculate-btn" onclick="calculate()" id="btn-calculate">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Å—Ö–µ–º—É</button>
        </div>

        <div class="results hidden" id="results">
            <div class="tabs-container">
                <div class="tabs">
                    <button class="tab active" onclick="switchTab('distribution')" id="tab-distribution">Distribution</button>
                    <button class="tab" onclick="switchTab('no-pp')" id="tab-no-pp">No PP</button>
                </div>
            </div>

            <div class="cost-summary">
                <h3 id="cost-title">üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å</h3>
                <div class="cost-item">
                    <span id="cost-with-subs-label">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (—Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏):</span>
                    <span id="actual-cost">-</span>
                </div>
                <div class="cost-item">
                    <span id="cost-without-subs-label">–°—Ç–æ–∏–º–æ—Å—Ç—å –±–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫:</span>
                    <span id="cost-without-subs">-</span>
                </div>
                <div class="cost-item">
                    <span id="savings-label">–≠–∫–æ–Ω–æ–º–∏—è –æ—Ç –ø–æ–¥–ø–∏—Å–æ–∫:</span>
                    <span id="savings">-</span>
                </div>
            </div>

            <div class="plan-section">
                <h3 id="plan-title">üìã –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω</h3>
                <div id="plan-details"></div>
            </div>

            <div class="payments-section">
                <h3 id="payments-title">üí≥ –ü–ª–∞—Ç–µ–∂–∏ –ø–æ –∏–≥—Ä–æ–∫–∞–º</h3>
                <div id="payments-details"></div>
            </div>
        </div>

        <!-- –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏ -->
        <div class="useful-links">
            <h3 id="links-title">üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏</h3>
            <div class="links-grid">
                <a href="https://www.airportsquash.de/squash-court-buchen/" target="_blank" class="useful-link">
                    <div class="link-icon">üìÖ</div>
                    <div class="link-content">
                        <div class="link-title" id="booking-title">–§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</div>
                        <div class="link-desc" id="booking-desc">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ç –æ–Ω–ª–∞–π–Ω</div>
                    </div>
                </a>
                <a href="https://www.airportsquash.de/airport-squash/" target="_blank" class="useful-link">
                    <div class="link-icon">üí∞</div>
                    <div class="link-content">
                        <div class="link-title" id="pricing-title">–ü—Ä–∞–π—Å-–ª–∏—Å—Ç</div>
                        <div class="link-desc" id="pricing-desc">–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –∏ —Ç–∞—Ä–∏—Ñ—ã</div>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <script>
        // –ü–µ—Ä–µ–≤–æ–¥—ã
        const translations = {
            ru: {
                title: "üè∏ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–∫–≤–æ—à–∞",
                subtitle: "–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ –æ–ø–ª–∞—Ç—ã —Å —É—á–µ—Ç–æ–º –ø–æ–¥–ø–∏—Å–æ–∫ Urban Sports",
                pricingInfo: {
                    weekdays: "–†–∞–±–æ—á–∏–µ –¥–Ω–∏:",
                    weekends: "–í—ã—Ö–æ–¥–Ω—ã–µ:",
                    peakTime: "–ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —Å 16:30-21:00 (9‚Ç¨/12‚Ç¨) | –æ—Å—Ç–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (6‚Ç¨/9‚Ç¨)",
                    allTime: "–≤—Å–µ –≤—Ä–µ–º—è (6‚Ç¨/9‚Ç¨)"
                },
                gameDuration: "–ò–≥—Ä–∞: 1.5 —á–∞—Å–∞ (PowerPlay)",
                labels: {
                    courts: "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ—Ä—Ç–æ–≤",
                    players: "–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤",
                    subs: "–ò–≥—Ä–æ–∫–∏ —Å –ø–æ–¥–ø–∏—Å–∫–æ–π Urban Sports",
                    startTime: "–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã"
                },
                button: "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Å—Ö–µ–º—É",
                results: {
                    cost: "üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å",
                    costWithSubs: "–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (—Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏):",
                    costWithoutSubs: "–°—Ç–æ–∏–º–æ—Å—Ç—å –±–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫:",
                    savings: "–≠–∫–æ–Ω–æ–º–∏—è –æ—Ç –ø–æ–¥–ø–∏—Å–æ–∫:",
                    plan: "üìã –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω",
                    payments: "üí≥ –ü–ª–∞—Ç–µ–∂–∏ –ø–æ –∏–≥—Ä–æ–∫–∞–º"
                },
                tabs: {
                    distribution: "–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ",
                    noPp: "–ë–µ–∑ PowerPlay"
                },
                links: {
                    title: "üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏",
                    booking: {
                        title: "–§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è",
                        desc: "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ç –æ–Ω–ª–∞–π–Ω"
                    },
                    pricing: {
                        title: "–ü—Ä–∞–π—Å-–ª–∏—Å—Ç",
                        desc: "–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –∏ —Ç–∞—Ä–∏—Ñ—ã"
                    }
                },
                days: ["–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ", "–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", "–≤—Ç–æ—Ä–Ω–∏–∫", "—Å—Ä–µ–¥–∞", "—á–µ—Ç–≤–µ—Ä–≥", "–ø—è—Ç–Ω–∏—Ü–∞", "—Å—É–±–±–æ—Ç–∞"],
                dayTypes: {
                    weekday: "—Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å",
                    weekend: "–≤—ã—Ö–æ–¥–Ω–æ–π"
                },
                timeDescriptions: {
                    peak: "–ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è —Å 16:30-21:00",
                    offPeak: "–æ—Å—Ç–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è",
                    weekend: "–≤—ã—Ö–æ–¥–Ω–æ–π"
                }
            },
            en: {
                title: "üè∏ Squash Calculator",
                subtitle: "Optimal payment scheme with Urban Sports subscriptions",
                pricingInfo: {
                    weekdays: "Weekdays:",
                    weekends: "Weekends:",
                    peakTime: "intersection with 16:30-21:00 (9‚Ç¨/12‚Ç¨) | other time (6‚Ç¨/9‚Ç¨)",
                    allTime: "all time (6‚Ç¨/9‚Ç¨)"
                },
                gameDuration: "Game: 1.5 hours (PowerPlay)",
                labels: {
                    courts: "Number of courts",
                    players: "Total number of players",
                    subs: "Players with Urban Sports subscription",
                    startTime: "Game start time"
                },
                button: "Calculate optimal scheme",
                results: {
                    cost: "üí∞ Cost",
                    costWithSubs: "Minimum cost (with subscriptions):",
                    costWithoutSubs: "Cost without subscriptions:",
                    savings: "Savings from subscriptions:",
                    plan: "üìã Optimal plan",
                    payments: "üí≥ Player payments"
                },
                tabs: {
                    distribution: "Distribution",
                    noPp: "No PowerPlay"
                },
                links: {
                    title: "üîó Useful Links",
                    booking: {
                        title: "Booking Form",
                        desc: "Book a court online"
                    },
                    pricing: {
                        title: "Price List",
                        desc: "Current prices and rates"
                    }
                },
                days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                dayTypes: {
                    weekday: "weekday",
                    weekend: "weekend"
                },
                timeDescriptions: {
                    peak: "intersects with 16:30-21:00",
                    offPeak: "other time",
                    weekend: "weekend"
                }
            },
            de: {
                title: "üè∏ Squash-Rechner",
                subtitle: "Optimale Zahlungsregelung mit Urban Sports Abonnements",
                pricingInfo: {
                    weekdays: "Werktage:",
                    weekends: "Wochenenden:",
                    peakTime: "√úberschneidung mit 16:30-21:00 (9‚Ç¨/12‚Ç¨) | andere Zeit (6‚Ç¨/9‚Ç¨)",
                    allTime: "ganze Zeit (6‚Ç¨/9‚Ç¨)"
                },
                gameDuration: "Spiel: 1,5 Stunden (PowerPlay)",
                labels: {
                    courts: "Anzahl der Pl√§tze",
                    players: "Gesamtanzahl der Spieler",
                    subs: "Spieler mit Urban Sports Abonnement",
                    startTime: "Spielbeginn"
                },
                button: "Optimales Schema berechnen",
                results: {
                    cost: "üí∞ Kosten",
                    costWithSubs: "Mindestkosten (mit Abonnements):",
                    costWithoutSubs: "Kosten ohne Abonnements:",
                    savings: "Ersparnis durch Abonnements:",
                    plan: "üìã Optimaler Plan",
                    payments: "üí≥ Spielerzahlungen"
                },
                tabs: {
                    distribution: "Verteilung",
                    noPp: "Kein PowerPlay"
                },
                links: {
                    title: "üîó N√ºtzliche Links",
                    booking: {
                        title: "Buchungsformular",
                        desc: "Platz online buchen"
                    },
                    pricing: {
                        title: "Preisliste",
                        desc: "Aktuelle Preise und Tarife"
                    }
                },
                days: ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"],
                dayTypes: {
                    weekday: "Werktag",
                    weekend: "Wochenende"
                },
                timeDescriptions: {
                    peak: "√ºberschneidet sich mit 16:30-21:00",
                    offPeak: "andere Zeit",
                    weekend: "Wochenende"
                }
            }
        };

        let currentLanguage = 'ru';
        let currentAlgorithm = 'distribution';

        // –¶–µ–Ω—ã –Ω–∞ —á–µ–ª–æ–≤–µ–∫–∞
        const PRICES = {
            // –†–∞–±–æ—á–∏–µ –¥–Ω–∏
            weekday: {
                peak: { slot: 9, pp: 12 },      // 16:30-21:00
                off_peak: { slot: 6, pp: 9 }    // –æ—Å—Ç–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
            },
            // –í—ã—Ö–æ–¥–Ω—ã–µ
            weekend: {
                peak: { slot: 6, pp: 9 },       // –≤—Å–µ–≥–¥–∞ –¥–µ—à–µ–≤–ª–µ
                off_peak: { slot: 6, pp: 9 }
            }
        };

        function getPriceForTime(startTime, dayType, duration) {
            const startHour = parseInt(startTime.split(':')[0]);
            const startMinute = parseInt(startTime.split(':')[1]);
            const startTimeMinutes = startHour * 60 + startMinute;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è –ª–∏ –≤—Ä–µ–º—è –∏–≥—Ä—ã —Å –ø–∏–∫–æ–≤—ã–º –ø–µ—Ä–∏–æ–¥–æ–º (16:30-21:00)
            const peakStart = 16 * 60 + 30; // 16:30
            const peakEnd = 21 * 60;        // 21:00
            
            // –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã
            const gameDurationMinutes = duration * 60;
            const endTimeMinutes = startTimeMinutes + gameDurationMinutes;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
            const isPeakTime = (startTimeMinutes < peakEnd && endTimeMinutes > peakStart);
            const priceCategory = isPeakTime ? 'peak' : 'off_peak';
            
            const dayPrices = PRICES[dayType];
            const prices = dayPrices[priceCategory];
            
            if (duration === 1.5) {
                return prices.pp; // PowerPlay
            } else {
                return prices.slot; // –û–±—ã—á–Ω—ã–π —Å–ª–æ—Ç
            }
        }

        function getSlotPrice(startTime, dayType, slotIndex) {
            // –î–ª—è –æ–±—ã—á–Ω–æ–≥–æ —Å–ª–æ—Ç–∞ (45 –º–∏–Ω—É—Ç)
            const [hours, minutes] = startTime.split(':').map(Number);
            const slotStartMinutes = hours * 60 + minutes + (slotIndex * 45);
            const slotStartHours = Math.floor(slotStartMinutes / 60);
            const slotStartMins = slotStartMinutes % 60;
            
            const slotTimeStr = slotStartHours.toString().padStart(2, '0') + ':' + 
                               slotStartMins.toString().padStart(2, '0');
            
            return getPriceForTime(slotTimeStr, dayType, 0.75);
        }

        function getPPPrice(startTime, dayType) {
            return getPriceForTime(startTime, dayType, 1.5);
        }

        function squashMinCost(courts, subs, startTime, dayType) {
            if (currentAlgorithm === 'no-pp') {
                return squashNoPPCost(courts, subs, startTime, dayType);
            }
            if (currentAlgorithm === 'distribution') {
                const players = parseInt(document.getElementById('players').value);
                return squashDistributionCost(courts, players, subs, startTime, dayType);
            }
            
            let bestCost = Infinity;
            let bestPlan = null;
            const costWithoutSubs = courts * getPPPrice(startTime, dayType) * 2;

            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∫–æ—Ä—Ç–æ–≤
            const choices = generateChoices(courts);
            
            for (const choice of choices) {
                let costAsPP = 0;
                let slotsForSubs = [];
                
                for (const c of choice) {
                    if (c === "pp") {
                        costAsPP += getPPPrice(startTime, dayType) * 2;
                    } else {
                        // –û–±—ã—á–Ω—ã–π –∫–æ—Ä—Ç = 2 —Å–ª–æ—Ç–∞ –Ω–∞ –∫–∞–∂–¥–æ–≥–æ –∏–∑ 2-—Ö –∏–≥—Ä–æ–∫–æ–≤
                        slotsForSubs.push(getSlotPrice(startTime, dayType, 0));
                        slotsForSubs.push(getSlotPrice(startTime, dayType, 0));
                        slotsForSubs.push(getSlotPrice(startTime, dayType, 1));
                        slotsForSubs.push(getSlotPrice(startTime, dayType, 1));
                    }
                }

                // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–æ–¥–ø–∏—Å–∫–∏ –∫ —Ä–∞–∑–±–∏—Ç—ã–º —Å–ª–æ—Ç–∞–º
                const freeSlots = subs;
                const slotCostsSorted = slotsForSubs.sort((a, b) => a - b);
                const paidSlots = slotCostsSorted.slice(freeSlots);
                const costWithSubs = paidSlots.reduce((sum, cost) => sum + cost, 0);
                
                const totalCost = costAsPP + costWithSubs;

                if (totalCost < bestCost) {
                    bestCost = totalCost;
                    bestPlan = choice;
                }
            }

            return { cost: bestCost, plan: bestPlan, costWithoutSubs };
        }

        function squashNoPPCost(courts, subs, startTime, dayType) {
            // –ü—Ä–æ—Å—Ç–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º: –≤—Å–µ –∫–æ—Ä—Ç—ã –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Å–ª–æ—Ç—ã (–±–µ–∑ PowerPlay)
            const slotsForSubs = [];
            
            for (let i = 0; i < courts; i++) {
                // –ö–∞–∂–¥—ã–π –∫–æ—Ä—Ç = 2 —Å–ª–æ—Ç–∞ –Ω–∞ –∫–∞–∂–¥–æ–≥–æ –∏–∑ 2-—Ö –∏–≥—Ä–æ–∫–æ–≤
                slotsForSubs.push(getSlotPrice(startTime, dayType, 0));
                slotsForSubs.push(getSlotPrice(startTime, dayType, 0));
                slotsForSubs.push(getSlotPrice(startTime, dayType, 1));
                slotsForSubs.push(getSlotPrice(startTime, dayType, 1));
            }

            // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–æ–¥–ø–∏—Å–∫–∏ –∫ —Ä–∞–∑–±–∏—Ç—ã–º —Å–ª–æ—Ç–∞–º
            const freeSlots = subs;
            const slotCostsSorted = slotsForSubs.sort((a, b) => a - b);
            const paidSlots = slotCostsSorted.slice(freeSlots);
            const costWithSubs = paidSlots.reduce((sum, cost) => sum + cost, 0);
            
            // –°—Ç–æ–∏–º–æ—Å—Ç—å –±–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫ (–≤—Å–µ –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Å–ª–æ—Ç—ã –±–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫)
            const costWithoutSubs = slotsForSubs.reduce((sum, cost) => sum + cost, 0);
            
            // –ü–ª–∞–Ω: –≤—Å–µ –∫–æ—Ä—Ç—ã –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Å–ª–æ—Ç—ã
            const plan = new Array(courts).fill("slots");

            return { cost: costWithSubs, plan: plan, costWithoutSubs };
        }

        function squashDistributionCost(courts, players, subs, startTime, dayType) {
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ª—é–¥–µ–π –ø–æ –∫–æ—Ä—Ç–∞–º
            const distributions = generateDistributions(players, courts);
            
            let bestCost = Infinity;
            let bestDistribution = null;
            let bestPlan = null;
            let bestBookingCount = Infinity;
            let bestBookings = null; // –ö—Ç–æ –±—Ä–æ–Ω–∏—Ä—É–µ—Ç –∫–∞–∫–∏–µ –∫–æ—Ä—Ç—ã
            let bestPPCount = 0; // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ PowerPlay –∫–æ—Ä—Ç–æ–≤ (–¥–ª—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –ø—Ä–∏ —Ä–∞–≤–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏)
            
            for (const dist of distributions) {
                // dist - –º–∞—Å—Å–∏–≤, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π –Ω–∞ –∫–æ—Ä—Ç–µ
                // –ù–∞–ø—Ä–∏–º–µ—Ä, [2, 3] –æ–∑–Ω–∞—á–∞–µ—Ç 2 —á–µ–ª–æ–≤–µ–∫–∞ –Ω–∞ –ø–µ—Ä–≤–æ–º –∫–æ—Ä—Ç–µ, 3 –Ω–∞ –≤—Ç–æ—Ä–æ–º
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã, –∫—Ç–æ –±—Ä–æ–Ω–∏—Ä—É–µ—Ç –∫–∞–∫–∏–µ –∫–æ—Ä—Ç—ã
                // –∏ –∫–∞–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø–æ–¥–ø–∏—Å–∫–∏
                const bookingOptions = generateBookingOptions(dist, players, subs);
                
                for (const bookingOption of bookingOptions) {
                    // bookingOption —Å–æ–¥–µ—Ä–∂–∏—Ç:
                    // - playerAssignment: –º–∞—Å—Å–∏–≤ –º–∞—Å—Å–∏–≤–æ–≤, –∫—Ç–æ –∏–≥—Ä–∞–µ—Ç –Ω–∞ –∫–∞–∂–¥–æ–º –∫–æ—Ä—Ç–µ
                    // - bookings: –º–∞—Å—Å–∏–≤, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç - –∫—Ç–æ –±—Ä–æ–Ω–∏—Ä—É–µ—Ç –∫–æ—Ä—Ç (–∏–Ω–¥–µ–∫—Å —á–µ–ª–æ–≤–µ–∫–∞ 1-based)
                    // - subDistribution: –º–∞—Å—Å–∏–≤ –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ –∫–∞–∂–¥—ã–π –∫–æ—Ä—Ç
                    
                    let totalCost = 0;
                    let plan = [];
                    
                    // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –∫–æ—Ä—Ç—ã –ø–æ —Ç–∏–ø—É –¥–ª—è –±—Ä–æ–Ω–µ–π:
                    // - –û–¥–Ω–∞ –±—Ä–æ–Ω—å –¥–ª—è –≤—Å–µ—Ö PowerPlay –∫–æ—Ä—Ç–æ–≤
                    // - –û–¥–Ω–∞ –±—Ä–æ–Ω—å –¥–ª—è –≤—Å–µ—Ö –æ–±—ã—á–Ω—ã—Ö –∫–æ—Ä—Ç–æ–≤
                    let hasPP = false;
                    let hasSlots = false;
                    let ppCount = 0; // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ PowerPlay –∫–æ—Ä—Ç–æ–≤
                    
                    for (let i = 0; i < bookingOption.playerAssignment.length; i++) {
                        const playersOnCourt = bookingOption.playerAssignment[i]; // –ú–∞—Å—Å–∏–≤ –∏–Ω–¥–µ–∫—Å–æ–≤ –ª—é–¥–µ–π
                        const playersCount = playersOnCourt.length;
                        const subsOnCourt = bookingOption.subDistribution[i];
                        const bookerIndex = bookingOption.bookings[i]; // –ö—Ç–æ –±—Ä–æ–Ω–∏—Ä—É–µ—Ç —ç—Ç–æ—Ç –∫–æ—Ä—Ç
                        
                        // PowerPlay –≤–æ–∑–º–æ–∂–µ–Ω —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
                        // 1. –†–æ–≤–Ω–æ 2 —á–µ–ª–æ–≤–µ–∫–∞ –Ω–∞ –∫–æ—Ä—Ç–µ
                        // 2. –ù–µ—Ç –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ —ç—Ç–æ–º –∫–æ—Ä—Ç–µ (–≤–Ω—É—Ç—Ä–∏ –±—Ä–æ–Ω–∏)
                        if (playersCount === 2 && subsOnCourt === 0) {
                            // PowerPlay –≤–æ–∑–º–æ–∂–µ–Ω
                            hasPP = true;
                            ppCount++;
                            const ppCost = getPPPrice(startTime, dayType) * 2;
                            totalCost += ppCost;
                            plan.push({ 
                                type: 'pp', 
                                players: 2, 
                                subs: 0, 
                                cost: ppCost, 
                                booker: bookerIndex,
                                playersList: [...playersOnCourt],
                                courtIndex: i
                            });
                        } else {
                            // –û–±—ã—á–Ω—ã–µ —Å–ª–æ—Ç—ã
                            hasSlots = true;
                            
                            // –ö–æ—Ä—Ç = 2 —Å–ª–æ—Ç–∞ (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ª—é–¥–µ–π)
                            // –ö–∞–∂–¥—ã–π —Å–ª–æ—Ç –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ —á–∞—Å—Ç–∏ –¥–ª—è –ª—é–¥–µ–π
                            // 1 –ø–æ–¥–ø–∏—Å–∫–∞ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç 0.5 –∫–æ—Ä—Ç–∞ = 1 —Å–ª–æ—Ç
                            const slot1Price = getSlotPrice(startTime, dayType, 0);
                            const slot2Price = getSlotPrice(startTime, dayType, 1);
                            
                            // –ö–æ—Ä—Ç –∏–º–µ–µ—Ç 2 —Å–ª–æ—Ç–∞, –∫–∞–∂–¥—ã–π —Å–ª–æ—Ç –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ 2 —á–∞—Å—Ç–∏ (–¥–ª—è 2 —á–µ–ª–æ–≤–µ–∫)
                            // –ò—Ç–æ–≥–æ 4 "–ø–æ–ª—É—Å–ª–æ—Ç–∞" –Ω–∞ –∫–æ—Ä—Ç
                            const courtSlots = [
                                slot1Price, // –ø–æ–ª—É—Å–ª–æ—Ç 1
                                slot1Price, // –ø–æ–ª—É—Å–ª–æ—Ç 2
                                slot2Price, // –ø–æ–ª—É—Å–ª–æ—Ç 3
                                slot2Price  // –ø–æ–ª—É—Å–ª–æ—Ç 4
                            ];
                            
                            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, —Å–∫–æ–ª—å–∫–æ –ª—é–¥–µ–π —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏–≥—Ä–∞–µ—Ç –Ω–∞ —ç—Ç–æ–º –∫–æ—Ä—Ç–µ
                            const playersWithSubs = new Set();
                            for (let i = 1; i <= subs; i++) {
                                playersWithSubs.add(i);
                            }
                            const playersWithSubsOnCourt = playersOnCourt.filter(p => playersWithSubs.has(p));
                            // –ú–∞–∫—Å–∏–º—É–º –ø–æ–¥–ø–∏—Å–æ–∫ = min(–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –Ω–∞ –∫–æ—Ä—Ç–µ, 4 –ø–æ–ª—É—Å–ª–æ—Ç–∞)
                            const maxSubsOnCourt = Math.min(playersWithSubsOnCourt.length, 4);
                            
                            // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–æ–¥–ø–∏—Å–∫–∏ –∫ —ç—Ç–æ–º—É –∫–æ—Ä—Ç—É
                            // –ú–∞–∫—Å–∏–º—É–º –ø–æ–¥–ø–∏—Å–æ–∫ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ª—é–¥–µ–π —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ 4 –ø–æ–ª—É—Å–ª–æ—Ç–∞–º–∏
                            const slotsSorted = courtSlots.sort((a, b) => a - b);
                            const subsForCourt = Math.min(subsOnCourt, slotsSorted.length, maxSubsOnCourt);
                            const paidSlots = slotsSorted.slice(subsForCourt);
                            const courtCost = paidSlots.reduce((sum, cost) => sum + cost, 0);
                            
                            totalCost += courtCost;
                            plan.push({ 
                                type: 'slots', 
                                players: playersCount, 
                                subs: subsForCourt, 
                                cost: courtCost,
                                booker: bookerIndex,
                                playersList: [...playersOnCourt],
                                courtIndex: i
                            });
                        }
                    }
                    
                    // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—Ä–æ–Ω–µ–π: 1 –µ—Å–ª–∏ –≤—Å–µ –∫–æ—Ä—Ç—ã –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞, 2 –µ—Å–ª–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤
                    // –ï—Å–ª–∏ –æ–¥–Ω–∞ –≥—Ä—É–ø–ø–∞ –ø—É—Å—Ç–∞—è, –Ω–µ —Å—á–∏—Ç–∞–µ–º –µ—ë
                    let bookingCount = 0;
                    if (hasPP && hasSlots) {
                        bookingCount = 2; // –î–≤–µ —Ä–∞–∑–Ω—ã–µ –±—Ä–æ–Ω–∏
                    } else if (hasPP || hasSlots) {
                        bookingCount = 1; // –í—Å–µ –∫–æ—Ä—Ç—ã –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ - –æ–¥–Ω–∞ –±—Ä–æ–Ω—å
                    }
                    
                    // –í—ã–±–∏—Ä–∞–µ–º –≤–∞—Ä–∏–∞–Ω—Ç —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é, –∞ –ø—Ä–∏ —Ä–∞–≤–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏:
                    // 1. –° –º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –±—Ä–æ–Ω–µ–π
                    // 2. –° –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º PowerPlay –∫–æ—Ä—Ç–æ–≤ (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ PowerPlay)
                    let isBetter = false;
                    if (totalCost < bestCost) {
                        isBetter = true;
                    } else if (totalCost === bestCost) {
                        if (bookingCount < bestBookingCount) {
                            isBetter = true;
                        } else if (bookingCount === bestBookingCount && ppCount > bestPPCount) {
                            isBetter = true;
                        }
                    }
                    
                    if (isBetter) {
                        bestCost = totalCost;
                        bestDistribution = dist;
                        bestPlan = plan;
                        bestBookingCount = bookingCount;
                        bestBookings = bookingOption.bookings;
                        bestPPCount = ppCount;
                    }
                }
            }
            
            // –°—Ç–æ–∏–º–æ—Å—Ç—å –±–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫: –µ—Å–ª–∏ players = 2 * courts, —Ç–æ –≤—Å–µ –∫–æ—Ä—Ç—ã PowerPlay
            // –ò–Ω–∞—á–µ —Å—á–∏—Ç–∞–µ–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫ (–≤—Å–µ –∫–æ—Ä—Ç—ã –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Å–ª–æ—Ç—ã)
            let costWithoutSubs = 0;
            if (players === 2 * courts) {
                // –ë–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫ –≤—Å–µ –∫–æ—Ä—Ç—ã –±—É–¥—É—Ç PowerPlay
                costWithoutSubs = courts * getPPPrice(startTime, dayType) * 2;
            } else {
                // –ë–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫ –≤—Å–µ –∫–æ—Ä—Ç—ã –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Å–ª–æ—Ç—ã (4 –ø–æ–ª—É—Å–ª–æ—Ç–∞ –Ω–∞ –∫–æ—Ä—Ç)
                const slot1Price = getSlotPrice(startTime, dayType, 0);
                const slot2Price = getSlotPrice(startTime, dayType, 1);
                const courtSlots = [slot1Price, slot1Price, slot2Price, slot2Price];
                const costPerCourt = courtSlots.reduce((sum, cost) => sum + cost, 0);
                costWithoutSubs = courts * costPerCourt;
            }
            
            return { 
                cost: bestCost, 
                plan: bestPlan, 
                costWithoutSubs: costWithoutSubs,
                distribution: bestDistribution,
                bookingCount: bestBookingCount,
                bookings: bestBookings
            };
        }

        function generateBookingOptions(distribution, players, subs) {
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:
            // 1. –ö—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –∏–≥—Ä–∞–µ—Ç –Ω–∞ –∫–∞–∂–¥–æ–º –∫–æ—Ä—Ç–µ (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ª—é–¥–µ–π)
            // 2. –ö—Ç–æ –±—Ä–æ–Ω–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π –∫–æ—Ä—Ç (–∏–∑ –ª—é–¥–µ–π –Ω–∞ —ç—Ç–æ–º –∫–æ—Ä—Ç–µ)
            // 3. –ö–∞–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ –∫–æ—Ä—Ç–∞–º
            
            const options = [];
            
            // –°–Ω–∞—á–∞–ª–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ª—é–¥–µ–π –ø–æ –∫–æ—Ä—Ç–∞–º
            const playerAssignments = generatePlayerAssignments(distribution, players);
            
            for (const assignment of playerAssignments) {
                // assignment - –º–∞—Å—Å–∏–≤ –º–∞—Å—Å–∏–≤–æ–≤, –≥–¥–µ –∫–∞–∂–¥—ã–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–∞—Å—Å–∏–≤ - –∏–Ω–¥–µ–∫—Å—ã –ª—é–¥–µ–π –Ω–∞ –∫–æ—Ä—Ç–µ (1-based)
                // –ù–∞–ø—Ä–∏–º–µ—Ä, [[1,2], [3,4,5]] –æ–∑–Ω–∞—á–∞–µ—Ç –∏–≥—Ä–æ–∫–∏ 1,2 –Ω–∞ –∫–æ—Ä—Ç–µ 1, –∏–≥—Ä–æ–∫–∏ 3,4,5 –Ω–∞ –∫–æ—Ä—Ç–µ 2
                
                // –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ—Ä—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫—Ç–æ –µ–≥–æ –±—Ä–æ–Ω–∏—Ä—É–µ—Ç (–ª—é–±–æ–π —á–µ–ª–æ–≤–µ–∫ –º–æ–∂–µ—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å)
                const bookingVariants = generateBookingVariants(assignment, players);
                
                for (const bookings of bookingVariants) {
                    // bookings - –º–∞—Å—Å–∏–≤, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç - –∫—Ç–æ –±—Ä–æ–Ω–∏—Ä—É–µ—Ç –∫–æ—Ä—Ç (–∏–Ω–¥–µ–∫—Å —á–µ–ª–æ–≤–µ–∫–∞ 1-based)
                    
                    // –¢–µ–ø–µ—Ä—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ —Å —É—á–µ—Ç–æ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
                    generateSubDistributionsForBookings(assignment, bookings, subs, options);
                }
            }
            
            return options;
        }

        function generatePlayerAssignments(distribution, players) {
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ª—é–¥–µ–π –ø–æ –∫–æ—Ä—Ç–∞–º
            const assignments = [];
            const playerList = Array.from({length: players}, (_, i) => i + 1); // [1, 2, 3, ...]
            
            function generate(currentAssignment, remainingPlayers, courtIndex) {
                if (courtIndex === distribution.length) {
                    if (remainingPlayers.length === 0) {
                        assignments.push(currentAssignment.map(arr => [...arr]));
                    }
                    return;
                }
                
                const playersNeeded = distribution[courtIndex];
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ playersNeeded –ª—é–¥–µ–π –∏–∑ remainingPlayers
                function generateCombinations(combo, remaining, needed) {
                    if (needed === 0) {
                        const newAssignment = [...currentAssignment, combo];
                        const newRemaining = remainingPlayers.filter(p => !combo.includes(p));
                        generate(newAssignment, newRemaining, courtIndex + 1);
                        return;
                    }
                    
                    if (remaining.length < needed) return;
                    
                    for (let i = 0; i <= remaining.length - needed; i++) {
                        generateCombinations([...combo, remaining[i]], remaining.slice(i + 1), needed - 1);
                    }
                }
                
                generateCombinations([], remainingPlayers, playersNeeded);
            }
            
            generate([], playerList, 0);
            return assignments;
        }

        function generateBookingVariants(playerAssignment, players) {
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã, –∫—Ç–æ –±—Ä–æ–Ω–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π –∫–æ—Ä—Ç
            // –ë—Ä–æ–Ω—å –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –ª—é–±–æ–π —á–µ–ª–æ–≤–µ–∫ (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–≥—Ä–∞—é—â–∏–π –Ω–∞ –∫–æ—Ä—Ç–µ)
            // –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –±—Ä–æ–Ω–∏, —É–º–µ–Ω—å—à–∞—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—Ä–æ–Ω–µ–π
            const variants = [];
            const allPlayers = Array.from({length: players}, (_, i) => i + 1); // [1, 2, 3, ...]
            
            function generate(currentBookings, courtIndex) {
                if (courtIndex === playerAssignment.length) {
                    variants.push([...currentBookings]);
                    return;
                }
                
                // –ë—Ä–æ–Ω—å –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –ª—é–±–æ–π —á–µ–ª–æ–≤–µ–∫ (–¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –±—Ä–æ–Ω–µ–π)
                for (const booker of allPlayers) {
                    currentBookings.push(booker);
                    generate(currentBookings, courtIndex + 1);
                    currentBookings.pop();
                }
            }
            
            generate([], 0);
            return variants;
        }

        function generateSubDistributionsForBookings(playerAssignment, bookings, subs, options) {
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ —Å —É—á–µ—Ç–æ–º —Ç–æ–≥–æ, —á—Ç–æ:
            // - –ü–æ–¥–ø–∏—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –ª—é–¥—è–º –Ω–∞ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ—Ä—Ç–µ
            // - –ï—Å–ª–∏ —É —á–µ–ª–æ–≤–µ–∫–∞ –µ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∞ –∏ –æ–Ω –±—Ä–æ–Ω–∏—Ä—É–µ—Ç –∫–æ—Ä—Ç, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ—ë –Ω–∞ —ç—Ç–æ–º –∫–æ—Ä—Ç–µ, –µ—ë –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏
            // - –ú–∞–∫—Å–∏–º—É–º –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ –∫–æ—Ä—Ç–µ = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π –Ω–∞ —ç—Ç–æ–º –∫–æ—Ä—Ç–µ (–∫–∞–∂–¥—ã–π —á–µ–ª–æ–≤–µ–∫ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–∞–∫—Å–∏–º—É–º 1 –ø–æ–¥–ø–∏—Å–∫—É)
            
            const courts = playerAssignment.length;
            
            // –°–Ω–∞—á–∞–ª–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º, —É –∫–∞–∫–∏—Ö –ª—é–¥–µ–π –µ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ (–ø–µ—Ä–≤—ã–µ subs —á–µ–ª–æ–≤–µ–∫ –∏–º–µ—é—Ç –ø–æ–¥–ø–∏—Å–∫–∏)
            const playersWithSubs = new Set();
            for (let i = 1; i <= subs; i++) {
                playersWithSubs.add(i);
            }
            
            function generate(currentSubs, remainingSubs, courtIndex) {
                if (courtIndex === courts) {
                    if (remainingSubs === 0) {
                        options.push({
                            playerAssignment: playerAssignment.map(arr => [...arr]),
                            bookings: [...bookings],
                            subDistribution: [...currentSubs]
                        });
                    }
                    return;
                }
                
                const playersOnCourt = playerAssignment[courtIndex];
                const booker = bookings[courtIndex];
                
                // –ö–æ—Ä—Ç = 4 –ø–æ–ª—É—Å–ª–æ—Ç–∞ (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ª—é–¥–µ–π)
                const maxSlots = 4;
                
                // –ú–∞–∫—Å–∏–º—É–º –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ —ç—Ç–æ–º –∫–æ—Ä—Ç–µ = min(–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –Ω–∞ –∫–æ—Ä—Ç–µ, 4 –ø–æ–ª—É—Å–ª–æ—Ç–∞)
                // –ü–æ–¥–ø–∏—Å–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ —É –ª—é–¥–µ–π, –∏–≥—Ä–∞—é—â–∏—Ö –Ω–∞ —ç—Ç–æ–º –∫–æ—Ä—Ç–µ
                // –ö–∞–∂–¥—ã–π —á–µ–ª–æ–≤–µ–∫ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–∞–∫—Å–∏–º—É–º 1 –ø–æ–¥–ø–∏—Å–∫—É
                const playersWithSubsOnCourt = playersOnCourt.filter(p => playersWithSubs.has(p));
                const maxSubs = Math.min(remainingSubs, playersWithSubsOnCourt.length, maxSlots);
                
                // –ú–∏–Ω–∏–º—É–º –ø–æ–¥–ø–∏—Å–æ–∫: 0 (–º–æ–∂–µ–º –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —ç—Ç–æ–º –∫–æ—Ä—Ç–µ)
                const minSubs = 0;
                
                // –í–∞–∂–Ω–æ: –Ω–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª—å—à–µ –ø–æ–¥–ø–∏—Å–æ–∫, —á–µ–º –ª—é–¥–µ–π —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –Ω–∞ –∫–æ—Ä—Ç–µ
                if (maxSubs < 0) {
                    return; // –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏
                }
                
                for (let i = minSubs; i <= maxSubs; i++) {
                    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: i –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—ã—à–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
                    if (i > playersWithSubsOnCourt.length) {
                        continue;
                    }
                    currentSubs.push(i);
                    generate(currentSubs, remainingSubs - i, courtIndex + 1);
                    currentSubs.pop();
                }
            }
            
            generate([], subs, 0);
        }

        function generateSubDistributions(subs, courtDistribution) {
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ –∫–æ—Ä—Ç–∞–º
            // –£—á–∏—Ç—ã–≤–∞–µ–º, —á—Ç–æ –Ω–∞ –∫–æ—Ä—Ç–µ —Å 2 –ª—é–¥—å–º–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–µ –Ω—É–∂–Ω—ã –¥–ª—è PowerPlay
            const distributions = [];
            const courts = courtDistribution.length;
            
            function generate(current, remaining, courtIndex) {
                if (courtIndex === courts) {
                    if (remaining === 0) {
                        distributions.push([...current]);
                    }
                    return;
                }
                
                const playersOnCourt = courtDistribution[courtIndex];
                const maxSlots = playersOnCourt * 2; // –ú–∞–∫—Å–∏–º—É–º —Å–ª–æ—Ç–æ–≤ –Ω–∞ –∫–æ—Ä—Ç–µ
                const maxSubs = Math.min(remaining, maxSlots);
                
                // –ï—Å–ª–∏ –Ω–∞ –∫–æ—Ä—Ç–µ 2 —á–µ–ª–æ–≤–µ–∫–∞, –º–æ–∂–µ–º –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ (–¥–ª—è PowerPlay)
                // –ù–æ —Ç–∞–∫–∂–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –µ—Å–ª–∏ —ç—Ç–æ –≤—ã–≥–æ–¥–Ω–µ–µ
                const minSubs = 0;
                
                for (let i = minSubs; i <= maxSubs; i++) {
                    current.push(i);
                    generate(current, remaining - i, courtIndex + 1);
                    current.pop();
                }
            }
            
            generate([], subs, 0);
            return distributions;
        }

        function generateDistributions(players, courts) {
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è players –ª—é–¥–µ–π –ø–æ courts –∫–æ—Ä—Ç–∞–º
            // –ö–∞–∂–¥—ã–π –∫–æ—Ä—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –º–∏–Ω–∏–º—É–º 2 —á–µ–ª–æ–≤–µ–∫–∞
            const distributions = [];
            
            function generate(current, remaining, remainingCourts) {
                if (remainingCourts === 0) {
                    if (remaining === 0) {
                        distributions.push([...current]);
                    }
                    return;
                }
                
                if (remainingCourts === 1) {
                    // –ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ—Ä—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –º–∏–Ω–∏–º—É–º 2 —á–µ–ª–æ–≤–µ–∫–∞
                    if (remaining >= 2) {
                        current.push(remaining);
                        distributions.push([...current]);
                        current.pop();
                    }
                    return;
                }
                
                // –ú–∏–Ω–∏–º—É–º 2 —á–µ–ª–æ–≤–µ–∫–∞ –Ω–∞ –∫–æ—Ä—Ç, –º–∞–∫—Å–∏–º—É–º –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –º–∏–Ω—É—Å (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –∫–æ—Ä—Ç–æ–≤ * 2 - 2)
                // –ß—Ç–æ–±—ã –Ω–∞ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –∫–æ—Ä—Ç–∞—Ö –±—ã–ª–æ –º–∏–Ω–∏–º—É–º –ø–æ 2 —á–µ–ª–æ–≤–µ–∫–∞
                const min = 2;
                const max = remaining - ((remainingCourts - 1) * 2);
                
                if (max < min) {
                    return; // –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å
                }
                
                for (let i = min; i <= max; i++) {
                    current.push(i);
                    generate(current, remaining - i, remainingCourts - 1);
                    current.pop();
                }
            }
            
            generate([], players, courts);
            return distributions;
        }

        function generateChoices(courts) {
            const choices = [];
            const generate = (current, remaining) => {
                if (remaining === 0) {
                    choices.push([...current]);
                    return;
                }
                current.push("pp");
                generate(current, remaining - 1);
                current.pop();
                current.push("slots");
                generate(current, remaining - 1);
                current.pop();
            };
            generate([], courts);
            return choices;
        }

        function calculatePayments(actualCost, costWithoutSubs, players, subs) {
            const savings = costWithoutSubs - actualCost;
            const baseCostPerPerson = costWithoutSubs / players;
            const savingsPerSub = subs > 0 ? savings / subs : 0;
            
            const normalPayment = baseCostPerPerson;
            const subsPayment = baseCostPerPerson - savingsPerSub;
            
            const payments = {};
            const t = translations[currentLanguage];
            
            for (let i = 1; i <= players; i++) {
                if (i <= subs) {
                    const playerKey = currentLanguage === 'ru' ? `–ò–≥—Ä–æ–∫ ${i} (—Å –ø–æ–¥–ø–∏—Å–∫–æ–π)` :
                                    currentLanguage === 'en' ? `Player ${i} (with subscription)` :
                                    `Spieler ${i} (mit Abonnement)`;
                    payments[playerKey] = Math.round(subsPayment * 100) / 100;
                } else {
                    const playerKey = currentLanguage === 'ru' ? `–ò–≥—Ä–æ–∫ ${i}` :
                                    currentLanguage === 'en' ? `Player ${i}` :
                                    `Spieler ${i}`;
                    payments[playerKey] = Math.round(normalPayment * 100) / 100;
                }
            }
            
            return payments;
        }

        function formatPlan(plan, startTime, dayType, distribution, bookingCount) {
            const details = [];
            
            // –ü–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –ø–ª–∞–Ω–∞
            const courtText = currentLanguage === 'ru' ? '–ö–æ—Ä—Ç' : 
                            currentLanguage === 'en' ? 'Court' : 'Platz';
            const subsText = currentLanguage === 'ru' ? '–ø–æ–¥–ø–∏—Å–∫–∞–º–∏' : 
                           currentLanguage === 'en' ? 'subscriptions' : 'Abonnements';
            const paymentText = currentLanguage === 'ru' ? '–æ–ø–ª–∞—Ç–æ–π' : 
                              currentLanguage === 'en' ? 'payment' : 'Zahlung';
            const playersText = currentLanguage === 'ru' ? '–∏–≥—Ä–æ–∫–æ–≤' : 
                              currentLanguage === 'en' ? 'players' : 'Spieler';
            
            // –ï—Å–ª–∏ —ç—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –ø–ª–∞–Ω –∏–º–µ–µ—Ç –¥—Ä—É–≥—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
            if (currentAlgorithm === 'distribution' && plan && plan[0] && typeof plan[0] === 'object') {
                const bookingText = currentLanguage === 'ru' ? '–±—Ä–æ–Ω–∏—Ä—É–µ—Ç' : 
                                  currentLanguage === 'en' ? 'books' : 'bucht';
                const playsText = currentLanguage === 'ru' ? '–∏–≥—Ä–∞—é—Ç' : 
                                currentLanguage === 'en' ? 'play' : 'spielen';
                
                // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –∫–æ—Ä—Ç—ã –ø–æ —Ç–∏–ø—É (PowerPlay –∏ –æ–±—ã—á–Ω—ã–µ —Å–ª–æ—Ç—ã)
                const ppCourts = plan.filter(p => p.type === 'pp');
                const slotCourts = plan.filter(p => p.type === 'slots');
                const hasBothTypes = ppCourts.length > 0 && slotCourts.length > 0;
                
                // –ë—Ä–æ–Ω—å 1: PowerPlay –∫–æ—Ä—Ç—ã
                if (ppCourts.length > 0) {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –æ–±–∞ —Ç–∏–ø–∞
                    if (hasBothTypes) {
                        const bookingTextPP = currentLanguage === 'ru' ? '–ë—Ä–æ–Ω—å 1 (PowerPlay):' : 
                                             currentLanguage === 'en' ? 'Booking 1 (PowerPlay):' : 
                                             'Buchung 1 (PowerPlay):';
                        details.push(`<div class="court-item" style="background: #e8f5e9; font-weight: 600; margin-bottom: 10px; margin-top: 10px;">${bookingTextPP}</div>`);
                    }
                    
                    for (const courtPlan of ppCourts) {
                        const courtNum = (courtPlan.courtIndex || 0) + 1;
                        const playersList = courtPlan.playersList || [];
                        const playersListStr = playersList.length > 0 ? 
                            ` (${currentLanguage === 'ru' ? '–ò–≥—Ä–æ–∫–∏' : currentLanguage === 'en' ? 'Players' : 'Spieler'} ${playersList.join(', ')})` : '';
                        const timeDesc = getTimeDescription(startTime, dayType, 1.5);
                        const bookerText = currentLanguage === 'ru' ? `–ò–≥—Ä–æ–∫ ${courtPlan.booker} ${bookingText}` :
                                         currentLanguage === 'en' ? `Player ${courtPlan.booker} ${bookingText}` :
                                         `Spieler ${courtPlan.booker} ${bookingText}`;
                        details.push(`<div class="court-item"><strong>${courtText} ${courtNum}:</strong> ${bookerText}${playersListStr} - PowerPlay (${timeDesc}) - ${courtPlan.cost}‚Ç¨</div>`);
                    }
                }
                
                // –ë—Ä–æ–Ω—å 2: –û–±—ã—á–Ω—ã–µ —Å–ª–æ—Ç—ã
                if (slotCourts.length > 0) {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –æ–±–∞ —Ç–∏–ø–∞
                    if (hasBothTypes) {
                        const bookingTextSlots = currentLanguage === 'ru' ? '–ë—Ä–æ–Ω—å 2 (–æ–±—ã—á–Ω—ã–µ —Å–ª–æ—Ç—ã):' : 
                                                currentLanguage === 'en' ? 'Booking 2 (regular slots):' : 
                                                'Buchung 2 (normale Slots):';
                        details.push(`<div class="court-item" style="background: #fff3e0; font-weight: 600; margin-bottom: 10px; margin-top: 10px;">${bookingTextSlots}</div>`);
                    }
                    
                    for (const courtPlan of slotCourts) {
                        const courtNum = (courtPlan.courtIndex || 0) + 1;
                        const playersList = courtPlan.playersList || [];
                        const playersListStr = playersList.length > 0 ? 
                            ` (${currentLanguage === 'ru' ? '–ò–≥—Ä–æ–∫–∏' : currentLanguage === 'en' ? 'Players' : 'Spieler'} ${playersList.join(', ')})` : '';
                        const time1 = getTimeDescription(startTime, dayType, 0.75);
                        const time2 = getTimeDescription(getNextSlotTime(startTime, 1), dayType, 0.75);
                        // –ö–æ—Ä—Ç = 4 –ø–æ–ª—É—Å–ª–æ—Ç–∞ (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ª—é–¥–µ–π)
                        const slotsCount = 4;
                        const paidSlotsCount = slotsCount - courtPlan.subs;
                        const bookerText = currentLanguage === 'ru' ? `–ò–≥—Ä–æ–∫ ${courtPlan.booker} ${bookingText}, ${courtPlan.players} ${playsText}` :
                                         currentLanguage === 'en' ? `Player ${courtPlan.booker} ${bookingText}, ${courtPlan.players} ${playsText}` :
                                         `Spieler ${courtPlan.booker} ${bookingText}, ${courtPlan.players} ${playsText}`;
                        details.push(`<div class="court-item"><strong>${courtText} ${courtNum}:</strong> ${bookerText}${playersListStr} - ${courtPlan.subs} ${subsText} + ${paidSlotsCount} ${paymentText} = ${courtPlan.cost}‚Ç¨ (${time1}, ${time2})</div>`);
                    }
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –±—Ä–æ–Ω–µ–π
                if (distribution) {
                    const distText = currentLanguage === 'ru' ? '–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:' : 
                                    currentLanguage === 'en' ? 'Distribution:' : 'Verteilung:';
                    const bookingsText = currentLanguage === 'ru' ? '–±—Ä–æ–Ω–µ–π' : 
                                        currentLanguage === 'en' ? 'bookings' : 'Buchungen';
                    const bookingInfo = bookingCount !== undefined ? 
                        ` | ${currentLanguage === 'ru' ? '–ú–∏–Ω–∏–º—É–º –±—Ä–æ–Ω–µ–π:' : currentLanguage === 'en' ? 'Min bookings:' : 'Min Buchungen:'} ${bookingCount}` : '';
                    details.unshift(`<div class="court-item" style="background: #e3f2fd; font-weight: 600; margin-bottom: 10px;">${distText} ${distribution.join(' + ')} ${playersText}${bookingInfo}</div>`);
                }
                
                return details.join('');
            }
            
            // –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –¥—Ä—É–≥–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
            let totalSubsUsed = 0;
            for (let i = 0; i < plan.length; i++) {
                const courtNum = i + 1;
                const choice = plan[i];
                
                if (choice === "pp") {
                    const ppCost = getPPPrice(startTime, dayType) * 2;
                    const timeDesc = getTimeDescription(startTime, dayType, 1.5);
                    details.push(`<div class="court-item">${courtText} ${courtNum}: PowerPlay (${timeDesc}) - ${ppCost}‚Ç¨</div>`);
                } else {
                    const slot1Cost = getSlotPrice(startTime, dayType, 0);
                    const slot2Cost = getSlotPrice(startTime, dayType, 1);
                    const time1 = getTimeDescription(startTime, dayType, 0.75);
                    const time2 = getTimeDescription(getNextSlotTime(startTime, 1), dayType, 0.75);
                    
                    const remainingSubs = parseInt(document.getElementById('subs').value) - totalSubsUsed;
                    const courtSlots = [slot1Cost, slot1Cost, slot2Cost, slot2Cost];
                    const courtSlotsSorted = courtSlots.sort((a, b) => a - b);
                    
                    const subsForCourt = Math.min(remainingSubs, courtSlots.length);
                    const paidSlots = courtSlotsSorted.slice(subsForCourt);
                    const courtCost = paidSlots.reduce((sum, cost) => sum + cost, 0);
                    
                    totalSubsUsed += subsForCourt;
                    
                    details.push(`<div class="court-item">${courtText} ${courtNum}: ${subsForCourt} ${subsText} + ${paidSlots.length} ${paymentText} = ${courtCost}‚Ç¨ (${time1}, ${time2})</div>`);
                }
            }
            
            return details.join('');
        }

        function getTimeDescription(startTime, dayType, duration = 1.5) {
            const startHour = parseInt(startTime.split(':')[0]);
            const startMinute = parseInt(startTime.split(':')[1]);
            const startTimeMinutes = startHour * 60 + startMinute;
            
            const peakStart = 16 * 60 + 30; // 16:30
            const peakEnd = 21 * 60;        // 21:00
            
            // –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã
            const gameDurationMinutes = duration * 60;
            const endTimeMinutes = startTimeMinutes + gameDurationMinutes;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
            const isPeakTime = (startTimeMinutes < peakEnd && endTimeMinutes > peakStart);
            
            const t = translations[currentLanguage].timeDescriptions;
            
            if (dayType === 'weekend') {
                return t.weekend;
            } else if (isPeakTime) {
                return t.peak;
            } else {
                return t.offPeak;
            }
        }

        function getNextSlotTime(startTime, slotIndex) {
            const [hours, minutes] = startTime.split(':').map(Number);
            const totalMinutes = hours * 60 + minutes + (slotIndex * 45);
            const newHours = Math.floor(totalMinutes / 60);
            const newMinutes = totalMinutes % 60;
            return `${newHours.toString().padStart(2, '0')}:${newMinutes.toString().padStart(2, '0')}`;
        }

        function calculate() {
            const courts = parseInt(document.getElementById('courts').value);
            const players = parseInt(document.getElementById('players').value);
            const subs = parseInt(document.getElementById('subs').value);
            const startTime = document.getElementById('start_time').value;
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –¥–Ω—è
            const today = new Date();
            const dayOfWeek = today.getDay();
            const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;
            const dayType = isWeekend ? 'weekend' : 'weekday';
            
            // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å - –≤—Å–µ–≥–¥–∞ PowerPlay (1.5 —á–∞—Å–∞)
            const duration = 1.5;

            // –í–∞–ª–∏–¥–∞—Ü–∏—è
            if (subs > players) {
                showError('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–æ–≤');
                return;
            }

            if (players < 2) {
                showError('–ú–∏–Ω–∏–º—É–º 2 –∏–≥—Ä–æ–∫–∞');
                return;
            }

            if (courts < 1) {
                showError('–ú–∏–Ω–∏–º—É–º 1 –∫–æ—Ä—Ç');
                return;
            }

            if (!startTime) {
                showError('–£–∫–∞–∂–∏—Ç–µ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã');
                return;
            }

            try {
                const result = squashMinCost(courts, subs, startTime, dayType);
                const payments = calculatePayments(result.cost, result.costWithoutSubs, players, subs);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                document.getElementById('actual-cost').textContent = `${result.cost} ‚Ç¨`;
                document.getElementById('cost-without-subs').textContent = `${result.costWithoutSubs} ‚Ç¨`;
                document.getElementById('savings').textContent = `${result.costWithoutSubs - result.cost} ‚Ç¨`;
                
                document.getElementById('plan-details').innerHTML = formatPlan(result.plan, startTime, dayType, result.distribution, result.bookingCount);
                
                const paymentsHTML = Object.entries(payments).map(([player, amount]) => {
                    const className = player.includes('–ø–æ–¥–ø–∏—Å–∫–æ–π') ? 'player-with-sub' : 'player-normal';
                    return `<div class="payment-item">
                        <span class="${className}">${player}</span>
                        <span class="amount">${amount} ‚Ç¨</span>
                    </div>`;
                }).join('');
                
                document.getElementById('payments-details').innerHTML = paymentsHTML;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                document.getElementById('results').classList.remove('hidden');
                hideError();
                
            } catch (error) {
                showError('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ: ' + error.message);
            }
        }

        function showError(message) {
            let errorDiv = document.getElementById('error-message');
            if (!errorDiv) {
                errorDiv = document.createElement('div');
                errorDiv.id = 'error-message';
                errorDiv.className = 'error';
                document.querySelector('.form-section').appendChild(errorDiv);
            }
            errorDiv.textContent = message;
        }

        function hideError() {
            const errorDiv = document.getElementById('error-message');
            if (errorDiv) {
                errorDiv.remove();
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
        document.addEventListener('DOMContentLoaded', function() {
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            setTodayAsDefault();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã –≤–∫–ª–∞–¥–æ–∫
            updateTabLabels();
            
            const inputs = document.querySelectorAll('input, select');
            inputs.forEach(input => {
                input.addEventListener('change', calculate);
                input.addEventListener('input', calculate);
            });
        });

        function switchLanguage(lang) {
            currentLanguage = lang;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`lang-${lang}`).classList.add('active');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            updateInterface();
            
            // –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —É–∂–µ –ø–æ–∫–∞–∑–∞–Ω—ã, –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –∏—Ö —Å –Ω–æ–≤—ã–º —è–∑—ã–∫–æ–º
            const resultsDiv = document.getElementById('results');
            if (resultsDiv && !resultsDiv.classList.contains('hidden')) {
                calculate();
            }
        }

        function switchTab(algorithm) {
            currentAlgorithm = algorithm;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.getElementById(`tab-${algorithm}`).classList.add('active');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫
            updateTabLabels();
            
            // –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —É–∂–µ –ø–æ–∫–∞–∑–∞–Ω—ã, –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –∏—Ö —Å –Ω–æ–≤—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º
            const resultsDiv = document.getElementById('results');
            if (resultsDiv && !resultsDiv.classList.contains('hidden')) {
                calculate();
            }
        }

        function updateTabLabels() {
            const t = translations[currentLanguage].tabs;
            if (document.getElementById('tab-distribution')) {
                document.getElementById('tab-distribution').textContent = t.distribution;
            }
            if (document.getElementById('tab-no-pp')) {
                document.getElementById('tab-no-pp').textContent = t.noPp;
            }
        }

        function updateUsefulLinks() {
            const t = translations[currentLanguage].links;
            if (document.getElementById('links-title')) {
                document.getElementById('links-title').textContent = t.title;
            }
            if (document.getElementById('booking-title')) {
                document.getElementById('booking-title').textContent = t.booking.title;
            }
            if (document.getElementById('booking-desc')) {
                document.getElementById('booking-desc').textContent = t.booking.desc;
            }
            if (document.getElementById('pricing-title')) {
                document.getElementById('pricing-title').textContent = t.pricing.title;
            }
            if (document.getElementById('pricing-desc')) {
                document.getElementById('pricing-desc').textContent = t.pricing.desc;
            }
        }

        function updateInterface() {
            const t = translations[currentLanguage];
            
            // –ó–∞–≥–æ–ª–æ–≤–æ–∫
            document.getElementById('title').textContent = t.title;
            document.getElementById('subtitle').textContent = t.subtitle;
            
            // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ü–µ–Ω–∞—Ö
            const pricingInfo = document.getElementById('pricing-info');
            pricingInfo.innerHTML = `
                <div><strong>${t.pricingInfo.weekdays}</strong> ${t.pricingInfo.peakTime}</div>
                <div><strong>${t.pricingInfo.weekends}</strong> ${t.pricingInfo.allTime}</div>
            `;
            
            // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–≥—Ä—ã
            document.getElementById('game-duration').textContent = t.gameDuration;
            
            // –õ–µ–π–±–ª—ã —Ñ–æ—Ä–º—ã
            document.getElementById('label-courts').textContent = t.labels.courts;
            document.getElementById('label-players').textContent = t.labels.players;
            document.getElementById('label-subs').textContent = t.labels.subs;
            document.getElementById('label-start-time').textContent = t.labels.startTime;
            
            // –ö–Ω–æ–ø–∫–∞
            document.getElementById('btn-calculate').textContent = t.button;
            
            // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
            document.getElementById('cost-title').textContent = t.results.cost;
            document.getElementById('cost-with-subs-label').textContent = t.results.costWithSubs;
            document.getElementById('cost-without-subs-label').textContent = t.results.costWithoutSubs;
            document.getElementById('savings-label').textContent = t.results.savings;
            document.getElementById('plan-title').textContent = t.results.plan;
            document.getElementById('payments-title').textContent = t.results.payments;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–Ω—è
            updateDayDisplay();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫
            updateTabLabels();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
            updateUsefulLinks();
        }

        function updateDayDisplay() {
            const today = new Date();
            const dayOfWeek = today.getDay();
            const t = translations[currentLanguage];
            
            const dayName = t.days[dayOfWeek];
            const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;
            const dayType = isWeekend ? t.dayTypes.weekend : t.dayTypes.weekday;
            
            const currentDayDisplay = document.getElementById('current-day-display');
            if (currentDayDisplay) {
                currentDayDisplay.textContent = `${dayName} (${dayType})`;
            }
        }

        function setTodayAsDefault() {
            updateDayDisplay();
        }

        // –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏ –≤—ã–±–æ—Ä–∞ PowerPlay
        function runTests() {
            console.log('=== –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏ PowerPlay ===');
            
            // –¢–µ—Å—Ç 1: 6 –∏–≥—Ä–æ–∫–æ–≤, 3 –∫–æ—Ä—Ç–∞, 3 –ø–æ–¥–ø–∏—Å–∫–∏, –≤—ã—Ö–æ–¥–Ω–æ–π –¥–µ–Ω—å
            // –û–∂–∏–¥–∞–µ—Ç—Å—è: –∫–æ—Ä—Ç 2 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å PowerPlay (18‚Ç¨), –∞ –Ω–µ –æ–±—ã—á–Ω—ã–µ —Å–ª–æ—Ç—ã —Å –ø–æ–¥–ø–∏—Å–∫–æ–π (18‚Ç¨)
            console.log('\n–¢–µ—Å—Ç 1: 6 –∏–≥—Ä–æ–∫–æ–≤, 3 –∫–æ—Ä—Ç–∞, 3 –ø–æ–¥–ø–∏—Å–∫–∏');
            const test1 = squashDistributionCost(3, 6, 3, '18:00', 'weekend');
            console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', test1);
            console.log('–°—Ç–æ–∏–º–æ—Å—Ç—å:', test1.cost);
            console.log('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ PowerPlay –∫–æ—Ä—Ç–æ–≤:', test1.plan ? test1.plan.filter(p => p.type === 'pp').length : 0);
            console.log('–ü–ª–∞–Ω:', test1.plan);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–æ—Ä—Ç 2 - PowerPlay, –µ—Å–ª–∏ –æ–Ω —Å—Ç–æ–∏—Ç 18‚Ç¨
            if (test1.plan) {
                const court2 = test1.plan.find(p => p.courtIndex === 1); // –ò–Ω–¥–µ–∫—Å 1 = –∫–æ—Ä—Ç 2
                if (court2 && court2.cost === 18) {
                    if (court2.type !== 'pp') {
                        console.error('–û–®–ò–ë–ö–ê: –ö–æ—Ä—Ç 2 —Å—Ç–æ–∏—Ç 18‚Ç¨, –Ω–æ –Ω–µ PowerPlay!');
                    } else {
                        console.log('‚úì –ö–æ—Ä—Ç 2 –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã–±—Ä–∞–Ω –∫–∞–∫ PowerPlay');
                    }
                }
            }
            
            // –¢–µ—Å—Ç 2: 7 –∏–≥—Ä–æ–∫–æ–≤, 3 –∫–æ—Ä—Ç–∞, 3 –ø–æ–¥–ø–∏—Å–∫–∏
            console.log('\n–¢–µ—Å—Ç 2: 7 –∏–≥—Ä–æ–∫–æ–≤, 3 –∫–æ—Ä—Ç–∞, 3 –ø–æ–¥–ø–∏—Å–∫–∏');
            const test2 = squashDistributionCost(3, 7, 3, '18:00', 'weekend');
            console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', test2);
            console.log('–°—Ç–æ–∏–º–æ—Å—Ç—å:', test2.cost);
            console.log('–ü–ª–∞–Ω:', test2.plan);
            
            // –¢–µ—Å—Ç 3: 4 –∏–≥—Ä–æ–∫–∞, 2 –∫–æ—Ä—Ç–∞, 2 –ø–æ–¥–ø–∏—Å–∫–∏
            console.log('\n–¢–µ—Å—Ç 3: 4 –∏–≥—Ä–æ–∫–∞, 2 –∫–æ—Ä—Ç–∞, 2 –ø–æ–¥–ø–∏—Å–∫–∏');
            const test3 = squashDistributionCost(2, 4, 2, '18:00', 'weekend');
            console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', test3);
            console.log('–°—Ç–æ–∏–º–æ—Å—Ç—å:', test3.cost);
            console.log('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ PowerPlay –∫–æ—Ä—Ç–æ–≤:', test3.plan ? test3.plan.filter(p => p.type === 'pp').length : 0);
            console.log('–ü–ª–∞–Ω:', test3.plan);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø—Ä–∏ —Ä–∞–≤–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –±–æ–ª—å—à–µ PowerPlay
            if (test3.plan) {
                const ppCount = test3.plan.filter(p => p.type === 'pp').length;
                if (test3.cost === 36 && ppCount < 2) {
                    console.error('–û–®–ò–ë–ö–ê: –ü—Ä–∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ 36‚Ç¨ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 2 PowerPlay –∫–æ—Ä—Ç–∞!');
                } else if (ppCount === 2) {
                    console.log('‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã–±—Ä–∞–Ω—ã 2 PowerPlay –∫–æ—Ä—Ç–∞');
                }
            }
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å –ø–æ—Å–ª–µ –æ—Ç–ª–∞–¥–∫–∏)
        // runTests();
    </script>
</body>
</html>
